<html>
  <head>
    <meta charset="UTF-8" />
    <title>Shrimple WebRTC Demo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="" />
    <link rel="icon" href="https://fav.farm/ğŸ¦" />
  </head>
  <body
    style="
      color: #4c4f69;
      background: #eff1f5;
      max-width: 800px;
      margin: auto;
      padding: 2rem;
    "
  >
    <h1>ğŸ¦ShrimpleğŸ¦ WebRTC Demo</h1>
    <p>
      WebRTC peer-to-peer connections may not work if one or both users are
      behind a
      <strong>symmetric NAT</strong> (common in some routers and enterprise
      networks). In these cases, a
      <a href="https://webrtc.org/getting-started/turn-server">TURN server</a>
      is required to relay traffic. TURN servers are bandwidth-intensive and
      typically cost money to run.
    </p>
    <pre>My ID: <span class="myId">loading...</span></pre>
    <button id="enableVideoAudio" style="font-weight: bold; font-size: 1.25rem">
      ğŸ‘‰ Enable My Video/Audio ğŸ‘ˆ
    </button>
    <button id="startCall">Call using their ID</button>
    <hr />
    <div style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 2rem">
      <div>
        <video
          id="localVideo"
          autoplay
          muted
          style="border: 2px solid #4c4f69; max-width: 300px"
        ></video>
        <pre>ğŸ‘†You: <span class="myId">loading...</span></pre>
        <div id="select">
          <label for="videoSource">ğŸ“¹</label>
          <select id="videoSource"></select>
          <br />
          <label for="audioSource">ğŸ¤</label>
          <select id="audioSource"></select>
        </div>
      </div>
      <div>
        <video
          id="remoteVideo"
          autoplay
          style="border: 2px solid #4c4f69; max-width: 300px"
        ></video>
        <pre>ğŸ‘†Them: <span class="peerId">[Get into a call first...]</span></pre>
      </div>
    </div>
    <hr />
    <p><em>What's happening behind the scenes</em></p>
    <pre id="console" style="padding-bottom: 10rem; overflow: auto"></pre>
    <hr />

    <script type="module" src="script.js"></script>
  </body>
</html>
