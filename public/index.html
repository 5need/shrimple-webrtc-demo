<html>
  <head>
    <meta charset="UTF-8" />
    <title>Shrimple WebRTC Demo</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="description" content="" />
    <link rel="icon" href="https://fav.farm/ğŸ¦" />
    <style>
      mark {
        padding-left: 0.25rem;
        padding-right: 0.25rem;
        border-radius: 0.25rem;
        background-color: #ccd0da;
        color: #4c4f69;
      }
    </style>
  </head>
  <body
    style="
      color: #4c4f69;
      background: #eff1f5;
      max-width: 800px;
      margin: auto;
      padding: 2rem;
      font-family: sans-serif;
    "
  >
    <h1>A ğŸ¦ShrimpleğŸ¦ WebRTC Demo</h1>
    <a href="https://github.com/5need/shrimple-webrtc-demo">Github</a> |
    <a href="https://404notboring.com">404notboring.com</a>
    <p>
      WebRTC peer-to-peer connections may not work if one or both users are
      behind a
      <strong>symmetric NAT</strong> (common in some routers and enterprise
      networks). In these cases, a
      <a href="https://webrtc.org/getting-started/turn-server">TURN server</a>
      is required to relay traffic. TURN servers are bandwidth-intensive and
      cost money to run.
    </p>
    <pre>My ID: <span class="myCallerId">loading...</span></pre>
    <hr />
    <div style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 2rem">
      <div>
        <div
          style="
            border: 2px solid #4c4f69;
            max-width: 300px;
            position: relative;
          "
        >
          <button
            id="enableVideoAndAudioButton"
            style="
              font-weight: bold;
              font-size: 1.25rem;
              position: absolute;
              z-index: 1;
              width: 100%;
              height: 100%;
            "
          >
            ğŸ‘‰ Enable My Video/Audio
          </button>
          <video id="localVideo" autoplay muted style="width: 100%"></video>
        </div>
        <pre>ğŸ‘†You: <span class="myCallerId">loading...</span></pre>
        <div id="select">
          <label for="videoSource">ğŸ“¹</label>
          <select id="videoSource"></select>
          <br />
          <label for="audioSource">ğŸ¤</label>
          <select id="audioSource"></select>
        </div>
      </div>
      <div>
        <div
          style="
            border: 2px solid #4c4f69;
            max-width: 300px;
            position: relative;
          "
        >
          <form
            id="startCall"
            style="
              font-weight: bold;
              font-size: 1.25rem;
              position: absolute;
              z-index: 0;
              width: 100%;
              height: 100%;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              text-align: center;
            "
          >
            <label>
              ğŸ‘‰ Call using their ID
              <input />
            </label>
            <button>Call</button>
          </form>
          <video
            id="remoteVideo"
            autoplay
            style="
              width: 100%;
              pointer-events: none;
              position: relative;
              z-index: 1;
            "
          ></video>
        </div>
        <pre>ğŸ‘†Them: <span class="otherCallerId">[Get into a call first...]</span></pre>
      </div>
    </div>
    <hr />
    <p><em>What's happening behind the scenes</em></p>
    <pre id="console" style="height: 15rem; overflow: auto"></pre>
    <hr />

    <script type="module" src="script.js"></script>
  </body>
</html>
