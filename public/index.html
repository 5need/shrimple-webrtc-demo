<html>
  <head>
    <title>Simple WebRTC Demo</title>
  </head>
  <body style="color: white; background: black">
    <h1>Simple WebRTC Demo</h1>
    <p>
      WebRTC peer-to-peer connections may not work if one or both users are
      behind a
      <strong>symmetric NAT</strong> (common in some routers and enterprise
      networks). In these cases, a
      <a href="https://webrtc.org/getting-started/turn-server">TURN server</a>
      is required to relay traffic. TURN servers are bandwidth-intensive and
      typically cost money to run.
    </p>
    <pre>My ID: <span class="myId">loading...</span></pre>
    <button id="startCall">Call using their ID</button>
    <hr />
    <div style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 2rem">
      <div>
        <video
          id="localVideo"
          autoplay
          muted
          style="border: 2px solid white; max-width: 300px"
        ></video>
        <pre>ðŸ‘†You: <span class="myId">loading...</span></pre>
        <button
          id="enableVideoAudio"
          style="font-weight: bold; font-size: 1.25rem"
        >
          ðŸ‘‰ Enable Video/Audio ðŸ‘ˆ
        </button>
        <div id="select">
          <label for="videoSource">ðŸ“¹</label>
          <select id="videoSource"></select>
          <br />
          <label for="audioSource">ðŸŽ¤</label>
          <select id="audioSource"></select>
        </div>
      </div>
      <div>
        <video
          id="remoteVideo"
          autoplay
          style="border: 2px solid white; max-width: 300px"
        ></video>
        <pre>ðŸ‘†Them: <span class="theirId">[Get into a call first...]</span></pre>
      </div>
    </div>
    <hr />
    <p><em>What's happening behind the scenes</em></p>
    <pre id="console" style="padding-bottom: 10rem"></pre>
    <hr />

    <script src="script.js"></script>
  </body>
</html>
